(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["e2a16220"],{"0c9f":function(t,o,n){},1:function(t,o){},3380:function(t,o,n){"use strict";var a=n("0c9f"),e=n.n(a);e.a},6994:function(t,o,n){t.exports=n.p+"img/user-loc.91751916.png"},"8aa5":function(t,o,n){"use strict";var a=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("l-map",{attrs:{zoom:t.map.zoom,bounds:t.bounds,center:t.midpoint,options:t.map.options},on:{"update:center":t.centerUpdate}},[n("l-marker",{attrs:{icon:t.user.icon,"lat-lng":t.user.position}}),n("l-layer-group",t._l(t.cars,(function(t,o){return n("l-marker",{key:t.icon+"_"+o,attrs:{icon:t.icon,"lat-lng":t.position}})})),1),n("l-tile-layer",{attrs:{url:t.map.url}})],1)},e=[],i=n("2699"),c=n("4e2b"),r=n("a40a"),s=n("1ebb"),l=(n("6cc5"),n("e11e")),u=n.n(l),p=n("8055"),d={name:"KrMap",components:{LMap:i["a"],LMarker:c["a"],LTileLayer:r["a"],LLayerGroup:s["a"]},data:function(){return{map:{zoom:11,options:{zoomControl:!1},url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"},user:{position:[-16.116016,-47.951183],icon:u.a.icon({iconUrl:n("6994"),iconSize:[60,60]})},cars:[{position:[-15.864826,-48.080887],icon:u.a.icon({iconUrl:n("eadc"),iconSize:[60,60]})}],bounds:Object(l["latLngBounds"])({lat:0,lng:0},{lat:0,lng:0}),messages:[0,0],location:[],socket:p.connect("http://localhost:8080")}},computed:{midpoint:function(){var t=this.user.position,o=this.cars[0].position,n=[(t[0]+o[0])/2,(t[1]+o[1])/2];return n||[]}},methods:{centerUpdate:function(t){this.currentCenter=t}},mounted:function(){var t=this;navigator.geolocation.watchPosition((function(o){t.user.position=[o.coords.latitude,o.coords.longitude]}));var o={email:"eduardo@gmail.com",password:"senhalegal",topic:"krfind/1"};this.socket.on("connect",(function(){t.socket.emit("room",o)})),this.socket.on("message",(function(o){t.cars[0].position=[parseFloat(o["latitude"]),parseFloat(o["longitude"])];var n=t.cars.map((function(t){return t.position}));n.push(t.user.position),t.bounds=Object(l["latLngBounds"])(n)}))}},m=d,f=n("2877"),g=Object(f["a"])(m,a,e,!1,null,null,null);o["a"]=g.exports},e6e1:function(t,o,n){"use strict";n.r(o);var a=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("q-page",[n("section",{staticClass:"Kr-map"},[n("kr-map",{attrs:{locations_data:t.locations_data}})],1)])},e=[],i=n("bc3a"),c=n.n(i),r=n("8aa5"),s={name:"PageIndex",components:{"kr-map":r["a"]},data:function(){return{locations_data:{latlngs:[],color:"orange"},speed:{average:0,max:0},icon:!1,bar:!1,bar2:!1,toolbar:!1}},mounted:function(){var t=this;c.a.get("http://localhost:3000/logs").then((function(o){var n={},a=JSON.parse(JSON.stringify(o.data));n["locations"]=a.map((function(t){return[parseFloat(t["latitude"]),parseFloat(t["longitude"])]})),t.locations_data.latlngs=n["locations"]})).catch((function(){})).then((function(){}))}},l=s,u=(n("3380"),n("2877")),p=n("eebe"),d=n.n(p),m=n("9989"),f=n("9c40"),g=n("24e8"),h=n("f09f"),b=n("a370"),v=n("2c91"),k=n("b498"),_=n("7f67"),w=Object(u["a"])(l,a,e,!1,null,"d5c927f0",null);o["default"]=w.exports;d()(w,"components",{QPage:m["a"],QBtn:f["a"],QDialog:g["a"],QCard:h["a"],QCardSection:b["a"],QSpace:v["a"],QColor:k["a"]}),d()(w,"directives",{ClosePopup:_["a"]})},eadc:function(t,o,n){t.exports=n.p+"img/car-loc.c37c7a43.jpg"}}]);